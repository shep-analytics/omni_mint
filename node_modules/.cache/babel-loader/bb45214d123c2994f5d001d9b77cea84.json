{"ast":null,"code":"var _jsxFileName = \"/Users/teancum/omni_mint/src/PreSalePage/PreSale.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport style from \"./style.module.css\";\nimport { useEffect, useState } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { Button } from \"react-bootstrap\";\nimport Web3 from \"web3\";\nimport { tokenABI } from \"../contracts/ABIs\";\nimport { tokenAddress } from \"../contracts/contractAddress\";\nimport mint from \"../imgs/mint.png\";\nimport logo from \"../imgs/logo.jpg\";\nimport { ethers } from \"ethers\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst PreSale = () => {\n  _s();\n\n  const [omniContract, setOmniContract] = useState(null);\n  const [account, setAccount] = useState(null);\n  const [preSaleAmount, setPreSaleAmount] = useState(1000);\n\n  const loadWeb3 = async () => {\n    if (window.ethereum) {\n      window.web3 = new Web3(window.ethereum);\n      const web3 = window.web3;\n      await window.ethereum.enable();\n      const account = await web3.eth.getAccounts();\n      console.log(account);\n      setAccount(account[0]);\n      const contract = new web3.eth.Contract(tokenABI, tokenAddress);\n      setOmniContract(contract);\n      const tx = await contract.methods.getPreSaleNFTAmount().call();\n      console.log(\"Transaction: \", tx);\n      setPreSaleAmount(tx);\n    } else if (window.web3) {\n      window.web3 = new Web3(window.web3.currentProvider);\n      const web3 = window.web3;\n      const account = await web3.eth.getAccounts();\n      console.log(account);\n      setAccount(account[0]);\n      const contract = new web3.eth.Contract(tokenABI, tokenAddress);\n      setOmniContract(contract);\n      const tx = await contract.methods.getPreSaleNFTAmount().call();\n      console.log(\"Transaction: \", tx);\n    } else {\n      window.alert(\"Non-Ethereum browser detected. You should consider trying MetaMask!\");\n    }\n  };\n\n  const updatePreSale = async () => {\n    const tx = await omniContract.methods.getPreSaleNFTAmount().call();\n    console.log(tx);\n    setPreSaleAmount(tx);\n  };\n\n  const BuyToken = async numberOfTokens => {\n    console.log(account);\n    const web3 = window.web3;\n    let tokenTransaction;\n    let tokenId = null;\n    let transactionData;\n    let tokenIdArray = [];\n\n    if (numberOfTokens === 1) {\n      tokenTransaction = await contract.methods.presaleMintItems(1).send({\n        from: account,\n        gas: 3000000,\n        value: web3.utils.toWei(\"0.04\", \"ether\")\n      });\n      console.log(tokenABI);\n      tokenId = JSON.parse(JSON.stringify(tokenTransaction))[\"events\"][\"Transfer\"][\"returnValues\"];\n      document.getElementById(\"mint\").classList.add(\"active-bear\");\n    }\n\n    if (numberOfTokens === 2) {\n      tokenTransaction = await omniContract.methods.presaleMintItems(2).send({\n        from: account,\n        gas: 3000000,\n        value: web3.utils.toWei(\"0.138\", \"ether\")\n      });\n      transactionData = JSON.parse(JSON.stringify(tokenTransaction))[\"events\"][\"Transfer\"];\n\n      for (let i = 0; i < transactionData.length; i++) {\n        let token = transactionData[i][\"returnValues\"][\"tokenId\"];\n        tokenIdArray.push(token);\n      }\n    }\n\n    if (numberOfTokens === 5) {\n      tokenTransaction = await omniContract.methods.presaleMintItems(5).send({\n        from: account,\n        gas: 3000000,\n        value: web3.utils.toWei(\"0.345\", \"ether\")\n      });\n      transactionData = JSON.parse(JSON.stringify(tokenTransaction))[\"events\"][\"Transfer\"];\n\n      for (let i = 0; i < transactionData.length; i++) {\n        let token = transactionData[i][\"returnValues\"][\"tokenId\"];\n        tokenIdArray.push(token);\n      }\n    }\n\n    if (numberOfTokens === 10) {\n      tokenTransaction = await omniContract.methods.presaleMintItems(10).send({\n        from: account,\n        gas: 3000000,\n        value: web3.utils.toWei(\"0.69\", \"ether\")\n      });\n      transactionData = JSON.parse(JSON.stringify(tokenTransaction))[\"events\"][\"Transfer\"];\n\n      for (let i = 0; i < transactionData.length; i++) {\n        let token = transactionData[i][\"returnValues\"][\"tokenId\"];\n        tokenIdArray.push(token);\n      }\n    }\n\n    if (numberOfTokens === 20) {\n      tokenTransaction = await omniContract.methods.presaleMintItems(20).send({\n        from: account,\n        gas: 3000000,\n        value: web3.utils.toWei(\"1.38\", \"ether\")\n      });\n      transactionData = JSON.parse(JSON.stringify(tokenTransaction))[\"events\"][\"Transfer\"];\n\n      for (let i = 0; i < transactionData.length; i++) {\n        let token = transactionData[i][\"returnValues\"][\"tokenId\"];\n        tokenIdArray.push(token);\n      }\n    }\n\n    if (tokenId !== null) window.alert(\"Token ID: \" + JSON.stringify(tokenId));else window.alert(\"Token IDS: \" + JSON.stringify(tokenIdArray));\n    await updatePreSale();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.wrap,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.header_logo,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: style.logo_img,\n          src: logo,\n          alt: \"logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.body_wrapper,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: \"MINT YOUR POLAR PALS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: style.polar_text,\n          style: {\n            textAlign: \"center\"\n          },\n          children: [\"Number of Polar Pals Left: \", preSaleAmount, \"/1000\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: \"HOW MANY PALS DO YOU WANT?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: style.gridWrap,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: style.grid,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: style.img,\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: mint,\n                  alt: \"img\",\n                  onClick: () => BuyToken(1),\n                  className: [style.polar_img, \"bear-select\"].join(\" \"),\n                  id: \"mint\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: style.address,\n          style: {\n            textAlign: \"center\"\n          },\n          children: [\"YOUR ADDRESS:\", account]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: style.wallet_btn,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: loadWeb3,\n              children: \"CONNECT WALLET\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(PreSale, \"Xfn5zKC3wu2dZ7BESOlfb60upys=\");\n\n_c = PreSale;\nexport default PreSale;\n\nvar _c;\n\n$RefreshReg$(_c, \"PreSale\");","map":{"version":3,"sources":["/Users/teancum/omni_mint/src/PreSalePage/PreSale.js"],"names":["React","style","useEffect","useState","Button","Web3","tokenABI","tokenAddress","mint","logo","ethers","PreSale","omniContract","setOmniContract","account","setAccount","preSaleAmount","setPreSaleAmount","loadWeb3","window","ethereum","web3","enable","eth","getAccounts","console","log","contract","Contract","tx","methods","getPreSaleNFTAmount","call","currentProvider","alert","updatePreSale","BuyToken","numberOfTokens","tokenTransaction","tokenId","transactionData","tokenIdArray","presaleMintItems","send","from","gas","value","utils","toWei","JSON","parse","stringify","document","getElementById","classList","add","i","length","token","push","wrap","header_logo","logo_img","body_wrapper","textAlign","polar_text","gridWrap","grid","img","polar_img","join","address","wallet_btn"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport style from \"./style.module.css\";\nimport { useEffect, useState } from \"react\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nimport { Button } from \"react-bootstrap\";\nimport Web3 from \"web3\";\n\nimport { tokenABI } from \"../contracts/ABIs\";\nimport { tokenAddress } from \"../contracts/contractAddress\";\n\nimport mint from \"../imgs/mint.png\";\nimport logo from \"../imgs/logo.jpg\"\n\nimport { ethers } from \"ethers\";\n\nconst PreSale = () => {\n  const [omniContract, setOmniContract] = useState(null);\n  const [account, setAccount] = useState(null);\n  const [preSaleAmount, setPreSaleAmount] = useState(1000);\n\n  const loadWeb3 = async () => {\n    if (window.ethereum) {\n      window.web3 = new Web3(window.ethereum);\n      const web3 = window.web3;\n      await window.ethereum.enable();\n\n      const account = await web3.eth.getAccounts();\n      console.log(account);\n      setAccount(account[0]);\n\n      const contract = new web3.eth.Contract(tokenABI, tokenAddress);\n      setOmniContract(contract);\n      const tx = await contract.methods.getPreSaleNFTAmount().call();\n      console.log(\"Transaction: \", tx);\n      setPreSaleAmount(tx);\n    } else if (window.web3) {\n      window.web3 = new Web3(window.web3.currentProvider);\n      const web3 = window.web3;\n\n      const account = await web3.eth.getAccounts();\n      console.log(account);\n      setAccount(account[0]);\n\n      const contract = new web3.eth.Contract(tokenABI, tokenAddress);\n      setOmniContract(contract);\n      const tx = await contract.methods.getPreSaleNFTAmount().call();\n      console.log(\"Transaction: \", tx);\n    } else {\n      window.alert(\n        \"Non-Ethereum browser detected. You should consider trying MetaMask!\"\n      );\n    }\n  };\n\n  const updatePreSale = async () => {\n    const tx = await omniContract.methods.getPreSaleNFTAmount().call();\n    console.log(tx);\n    setPreSaleAmount(tx);\n  };\n\n  const BuyToken = async (numberOfTokens) => {\n    console.log(account);\n    const web3 = window.web3;\n    let tokenTransaction;\n    let tokenId = null;\n    let transactionData;\n    let tokenIdArray = [];\n    if (numberOfTokens === 1) {\n      tokenTransaction = await contract.methods.presaleMintItems(1).send({\n        from: account,\n        gas: 3000000,\n        value: web3.utils.toWei(\"0.04\", \"ether\"),\n      });\n      console.log(tokenABI);\n\n      tokenId = JSON.parse(JSON.stringify(tokenTransaction))[\"events\"][\n        \"Transfer\"\n      ][\"returnValues\"];\n\n      document.getElementById(\"mint\").classList.add(\"active-bear\");\n    }\n    if (numberOfTokens === 2) {\n      tokenTransaction = await omniContract.methods.presaleMintItems(2).send({\n        from: account,\n        gas: 3000000,\n        value: web3.utils.toWei(\"0.138\", \"ether\"),\n      });\n      transactionData = JSON.parse(JSON.stringify(tokenTransaction))[\"events\"][\n        \"Transfer\"\n      ];\n\n      for (let i = 0; i < transactionData.length; i++) {\n        let token = transactionData[i][\"returnValues\"][\"tokenId\"];\n        tokenIdArray.push(token);\n      }\n    }\n    if (numberOfTokens === 5) {\n      tokenTransaction = await omniContract.methods.presaleMintItems(5).send({\n        from: account,\n        gas: 3000000,\n        value: web3.utils.toWei(\"0.345\", \"ether\"),\n      });\n      transactionData = JSON.parse(JSON.stringify(tokenTransaction))[\"events\"][\n        \"Transfer\"\n      ];\n\n      for (let i = 0; i < transactionData.length; i++) {\n        let token = transactionData[i][\"returnValues\"][\"tokenId\"];\n        tokenIdArray.push(token);\n      }\n    }\n    if (numberOfTokens === 10) {\n      tokenTransaction = await omniContract.methods.presaleMintItems(10).send({\n        from: account,\n        gas: 3000000,\n        value: web3.utils.toWei(\"0.69\", \"ether\"),\n      });\n      transactionData = JSON.parse(JSON.stringify(tokenTransaction))[\"events\"][\n        \"Transfer\"\n      ];\n\n      for (let i = 0; i < transactionData.length; i++) {\n        let token = transactionData[i][\"returnValues\"][\"tokenId\"];\n        tokenIdArray.push(token);\n      }\n    }\n    if (numberOfTokens === 20) {\n      tokenTransaction = await omniContract.methods.presaleMintItems(20).send({\n        from: account,\n        gas: 3000000,\n        value: web3.utils.toWei(\"1.38\", \"ether\"),\n      });\n      transactionData = JSON.parse(JSON.stringify(tokenTransaction))[\"events\"][\n        \"Transfer\"\n      ];\n\n      for (let i = 0; i < transactionData.length; i++) {\n        let token = transactionData[i][\"returnValues\"][\"tokenId\"];\n        tokenIdArray.push(token);\n      }\n    }\n\n    if (tokenId !== null) window.alert(\"Token ID: \" + JSON.stringify(tokenId));\n    else window.alert(\"Token IDS: \" + JSON.stringify(tokenIdArray));\n    await updatePreSale();\n  };\n\n  return (\n    <>\n      <div className={style.wrap}>\n        <div className={style.header_logo}>\n          <img className={style.logo_img} src={logo} alt=\"logo\" />\n        </div>\n        <div className={style.body_wrapper}>\n          <h1 style={{ textAlign: \"center\" }}>MINT YOUR POLAR PALS</h1>\n          <p className={style.polar_text} style={{ textAlign: \"center\" }}>\n            Number of Polar Pals Left: {preSaleAmount}/1000\n          </p>\n          <h2 style={{ textAlign: \"center\" }}>HOW MANY PALS DO YOU WANT?</h2>\n          <div className={style.gridWrap}>\n            <div className={style.grid}>\n              <div className={style.img}>\n                <a>\n                  <img\n                    src={mint}\n                    alt=\"img\"\n                    onClick={() => BuyToken(1)}\n                    className={[style.polar_img, \"bear-select\"].join(\" \")}\n                    id=\"mint\"\n                  />\n                </a>\n              </div>\n            </div>\n          </div>\n          <p className={style.address} style={{ textAlign: \"center\" }}>\n            YOUR ADDRESS:{account}\n          </p>\n          <div style={{ textAlign: \"center\" }}>\n            <div className={style.wallet_btn}>\n              <Button onClick={loadWeb3}>CONNECT WALLET</Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default PreSale;\n"]},"metadata":{},"sourceType":"module"}