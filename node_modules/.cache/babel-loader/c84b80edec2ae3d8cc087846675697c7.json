{"ast":null,"code":"var _jsxFileName = \"/Users/teancum/omni_mint/src/PreSalePage/PreSale.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport style from \"./style.module.css\";\nimport { useEffect, useState } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport { Button } from \"react-bootstrap\";\nimport Web3 from \"web3\";\nimport { tokenABI } from \"../contracts/ABIs\";\nimport { tokenAddress } from \"../contracts/contractAddress\";\nimport mint from \"../imgs/mint.png\";\nimport logo from \"../imgs/logo.jpg\"; //import { ethers } from \"ethers\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst PreSale = () => {\n  _s();\n\n  const [omniContract, setOmniContract] = useState(null);\n  const [account, setAccount] = useState(null);\n  var price = 0.05;\n  const [numOmnis, setValue] = useState('');\n\n  const handleSelect = e => {\n    console.log(e);\n    setValue(e);\n  }; //const [preSaleAmount, setPreSaleAmount] = useState(1000);\n\n\n  const loadWeb3 = async () => {\n    if (window.ethereum) {\n      window.web3 = new Web3(window.ethereum);\n      const web3 = window.web3;\n      await window.ethereum.enable();\n      const account = await web3.eth.getAccounts();\n      console.log(account);\n      setAccount(account[0]);\n      const contract = new web3.eth.Contract(tokenABI, tokenAddress);\n      setOmniContract(contract);\n    } else if (window.web3) {\n      window.web3 = new Web3(window.web3.currentProvider);\n      const web3 = window.web3;\n      const account = await web3.eth.getAccounts();\n      console.log(account);\n      setAccount(account[0]);\n      const contract = new web3.eth.Contract(tokenABI, tokenAddress);\n      setOmniContract(contract);\n    } else {\n      window.alert(\"Non-Ethereum browser detected. You should consider trying MetaMask!\");\n    }\n  };\n\n  const BuyToken = async numberOfTokens => {\n    const web3 = window.web3;\n    const contract = new web3.eth.Contract(tokenABI, tokenAddress);\n    setOmniContract(contract);\n    console.log(account);\n    var cost = price * numberOfTokens;\n    console.log('I was triggered during render');\n    console.log(cost);\n    console.log(numberOfTokens);\n    console.log(numOmnis);\n    let tokenTransaction;\n    let tokenId = null; //    let transactionData;\n\n    let tokenIdArray = [];\n    tokenTransaction = await contract.methods.presaleMintItems(numberOfTokens).send({\n      from: account,\n      gas: 3000000,\n      value: web3.utils.toWei(cost.toString(), \"ether\")\n    });\n    console.log(tokenABI);\n    tokenId = JSON.parse(JSON.stringify(tokenTransaction))[\"events\"][\"Transfer\"][\"returnValues\"];\n    document.getElementById(\"mint\").classList.add(\"active-bear\");\n    if (tokenId !== null) window.alert(\"Token ID: \" + JSON.stringify(tokenId));else window.alert(\"Token IDS: \" + JSON.stringify(tokenIdArray)); // await updatePreSale();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.wrap,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.header_logo,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: style.logo_img,\n          src: logo,\n          alt: \"logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.body_wrapper,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: \"MINT YOUR OMNI\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: \"HOW MANY OMNIS DO YOU WANT?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(DropdownButton, {\n          style: {\n            textAlign: \"center\"\n          },\n          title: numOmnis,\n          id: \"dropdown-menu\",\n          onSelect: handleSelect,\n          children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n            eventKey: \"1\",\n            children: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n            eventKey: \"2\",\n            children: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n            eventKey: \"3\",\n            children: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n            eventKey: \"4\",\n            children: \"4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n            eventKey: \"5\",\n            children: \"5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n            eventKey: \"6\",\n            children: \"6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n            eventKey: \"7\",\n            children: \"7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n            eventKey: \"8\",\n            children: \"8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n            eventKey: \"9\",\n            children: \"9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n            eventKey: \"10\",\n            children: \"10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: style.gridWrap,\n          style: {\n            textAlign: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: style.grid,\n            style: {\n              textAlign: \"center\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: style.img,\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  style: {\n                    textAlign: \"center\"\n                  },\n                  src: mint,\n                  alt: \"img\",\n                  onClick: () => BuyToken(numOmnis),\n                  className: [style.polar_img, \"bear-select\"].join(\" \"),\n                  id: \"mint\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: style.address,\n          style: {\n            textAlign: \"center\"\n          },\n          children: [\"YOUR ADDRESS:\", account]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: style.wallet_btn,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: loadWeb3,\n              children: \"CONNECT WALLET\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(PreSale, \"+OqWl3SwJWG9l/h5L8mFbwvCydg=\");\n\n_c = PreSale;\nexport default PreSale;\n\nvar _c;\n\n$RefreshReg$(_c, \"PreSale\");","map":{"version":3,"sources":["/Users/teancum/omni_mint/src/PreSalePage/PreSale.js"],"names":["React","style","useEffect","useState","DropdownButton","Dropdown","Button","Web3","tokenABI","tokenAddress","mint","logo","PreSale","omniContract","setOmniContract","account","setAccount","price","numOmnis","setValue","handleSelect","e","console","log","loadWeb3","window","ethereum","web3","enable","eth","getAccounts","contract","Contract","currentProvider","alert","BuyToken","numberOfTokens","cost","tokenTransaction","tokenId","tokenIdArray","methods","presaleMintItems","send","from","gas","value","utils","toWei","toString","JSON","parse","stringify","document","getElementById","classList","add","wrap","header_logo","logo_img","body_wrapper","textAlign","gridWrap","grid","img","polar_img","join","address","wallet_btn"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport style from \"./style.module.css\";\nimport { useEffect,useState } from \"react\";\n\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport Dropdown from 'react-bootstrap/Dropdown'\n\n\nimport { Button } from \"react-bootstrap\";\nimport Web3 from \"web3\";\n\nimport { tokenABI } from \"../contracts/ABIs\";\nimport { tokenAddress } from \"../contracts/contractAddress\";\n\nimport mint from \"../imgs/mint.png\";\nimport logo from \"../imgs/logo.jpg\"\n\n//import { ethers } from \"ethers\";\n\nconst PreSale = () => {\n  const [omniContract,setOmniContract] = useState(null);\n  const [account, setAccount] = useState(null);\n\n  var price = 0.05;\n\n  const [numOmnis,setValue]=useState('');\n  const handleSelect=(e)=>{\n    console.log(e);\n    setValue(e)\n    }\n  //const [preSaleAmount, setPreSaleAmount] = useState(1000);\n\n  const loadWeb3 = async () => {\n    if (window.ethereum) {\n      window.web3 = new Web3(window.ethereum);\n      const web3 = window.web3;\n      await window.ethereum.enable();\n\n      const account = await web3.eth.getAccounts();\n      console.log(account);\n      setAccount(account[0]);\n\n      const contract = new web3.eth.Contract(tokenABI, tokenAddress);\n      setOmniContract(contract);\n    } else if (window.web3) {\n      window.web3 = new Web3(window.web3.currentProvider);\n      const web3 = window.web3;\n\n      const account = await web3.eth.getAccounts();\n      console.log(account);\n      setAccount(account[0]);\n\n      const contract = new web3.eth.Contract(tokenABI, tokenAddress);\n      setOmniContract(contract);\n    } else {\n      window.alert(\n        \"Non-Ethereum browser detected. You should consider trying MetaMask!\"\n      );\n    }\n  };\n\n  const BuyToken = async (numberOfTokens) => {\n    const web3 = window.web3;\n    const contract = new web3.eth.Contract(tokenABI, tokenAddress);\n    setOmniContract(contract);\n\n    console.log(account);\n\n    var cost = price * numberOfTokens;\n    console.log('I was triggered during render')\n    console.log(cost)\n    console.log(numberOfTokens)\n    console.log(numOmnis)\n    \n    let tokenTransaction;\n    let tokenId = null;\n//    let transactionData;\n    let tokenIdArray = [];\n\n    tokenTransaction = await contract.methods.presaleMintItems(numberOfTokens).send({\n      from: account,\n      gas: 3000000,\n      value: web3.utils.toWei(cost.toString(), \"ether\"),\n    });\n    console.log(tokenABI);\n\n    tokenId = JSON.parse(JSON.stringify(tokenTransaction))[\"events\"][\n      \"Transfer\"\n    ][\"returnValues\"];\n\n    document.getElementById(\"mint\").classList.add(\"active-bear\");\n\n\n    if (tokenId !== null) window.alert(\"Token ID: \" + JSON.stringify(tokenId));\n    else window.alert(\"Token IDS: \" + JSON.stringify(tokenIdArray));\n    // await updatePreSale();\n  };\n\n  return (\n    <>\n      <div className={style.wrap}>\n\n        <div className={style.header_logo}>\n          <img className={style.logo_img} src={logo} alt=\"logo\" />\n        </div>\n\n\n          <div className={style.body_wrapper}>\n            <h1 style={{ textAlign: \"center\" }}>MINT YOUR OMNI</h1>\n            <h2 style={{ textAlign: \"center\" }}>HOW MANY OMNIS DO YOU WANT?</h2>\n     \n            <DropdownButton\n\n             style={{ textAlign: \"center\" }}\n             title={numOmnis}\n             id=\"dropdown-menu\"\n             onSelect={handleSelect}\n\n               >\n                    <Dropdown.Item eventKey=\"1\">1</Dropdown.Item>\n                    <Dropdown.Item eventKey=\"2\">2</Dropdown.Item>\n                    <Dropdown.Item eventKey=\"3\">3</Dropdown.Item>\n                    <Dropdown.Item eventKey=\"4\">4</Dropdown.Item>\n                    <Dropdown.Item eventKey=\"5\">5</Dropdown.Item>\n                    <Dropdown.Item eventKey=\"6\">6</Dropdown.Item>\n                    <Dropdown.Item eventKey=\"7\">7</Dropdown.Item>\n                    <Dropdown.Item eventKey=\"8\">8</Dropdown.Item>\n                    <Dropdown.Item eventKey=\"9\">9</Dropdown.Item>\n                    <Dropdown.Item eventKey=\"10\">10</Dropdown.Item>\n              </DropdownButton>\n\n\n            <div className={style.gridWrap} style={{ textAlign: \"center\" }}>\n            <div className={style.grid} style={{ textAlign: \"center\" }}>\n              <div className={style.img}>\n                <a>\n                  <img\n                  style={{ textAlign: \"center\" }}\n                    src={mint}\n                    alt=\"img\"\n                    onClick={() => BuyToken(numOmnis)}\n                    className={[style.polar_img, \"bear-select\"].join(\" \")}\n                    id=\"mint\"\n                  />\n                </a>\n              </div>\n            </div>\n\n\n            </div>\n\n\n\n\n          <p className={style.address} style={{ textAlign: \"center\" }}>\n            YOUR ADDRESS:{account}\n          </p>\n          <div style={{ textAlign: \"center\" }}>\n            <div className={style.wallet_btn}>\n              <Button onClick={loadWeb3}>CONNECT WALLET</Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default PreSale;\n"]},"metadata":{},"sourceType":"module"}